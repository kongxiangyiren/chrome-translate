!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&l(e)})).observe(document,{childList:!0,subtree:!0})}function l(e){if(e.ep)return;e.ep=!0;const l=function(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?l.credentials="include":"anonymous"===e.crossOrigin?l.credentials="omit":l.credentials="same-origin",l}(e);fetch(e.href,l)}}();const e={class:"translate h-full"},l={class:"translate-box container mx-auto mt-5"},a={class:"select-box"},t={class:"translate-content mt-3"},u={class:"dialog-footer"},o=Vue.defineComponent({__name:"App",setup(o){const n=Vue.ref("auto"),r=Vue.ref("zh"),i=[{label:"自动检测",value:"auto"},{label:"中文",value:"zh"},{label:"繁体中文",value:"zh-Hant"},{label:"英语",value:"en"},{label:"西班牙语",value:"es"},{label:"日语",value:"ja"},{label:"阿拉伯语",value:"ar"},{label:"孟加拉语",value:"bn"},{label:"德语",value:"de"},{label:"法语",value:"fr"},{label:"印地语",value:"hi"},{label:"意大利语",value:"it"},{label:"韩语",value:"ko"},{label:"荷兰语",value:"nl"},{label:"波兰语",value:"pl"},{label:"葡萄牙语",value:"pt"},{label:"俄语",value:"ru"},{label:"泰语",value:"th"},{label:"土耳其语",value:"tr"},{label:"越南语",value:"vi"},{label:"保加利亚语",value:"bg"},{label:"捷克语",value:"cs"},{label:"丹麦语",value:"da"},{label:"希腊语",value:"el"},{label:"芬兰语",value:"fi"},{label:"克罗地亚语",value:"hr"},{label:"匈牙利语",value:"hu"},{label:"印度尼西亚语",value:"id"},{label:"爱沙尼亚语",value:"iw"},{label:"立陶宛语",value:"lt"},{label:"挪威语",value:"no"},{label:"罗马尼亚语",value:"ro"},{label:"斯洛文尼亚语",value:"sl"},{label:"瑞典语",value:"sv"},{label:"乌克兰语",value:"uk"}],d=i.filter((e=>"auto"!==e.value)),c=Vue.ref(""),s=Vue.ref(""),V=Vue.ref(!1),v=Vue.ref("false"!==localStorage.getItem("dialog"));function m(){localStorage.setItem("dialog","false"),v.value=!1,V.value=!1,c.value="",s.value=""}async function f(){if(V.value=!0,!("ai"in window)||!("languageDetector"in window.ai)||!("translator"in window.ai))return v.value=!0,localStorage.removeItem("dialog");if(!c.value)return s.value="";let e="";if("auto"===n.value){let l;const a=(await ai.languageDetector.capabilities()).available;if("no"===a)return v.value=!0,localStorage.removeItem("dialog");"readily"===a?l=await self.ai.languageDetector.create():(l=await self.ai.languageDetector.create({monitor(e){e.addEventListener("downloadprogress",(e=>{}))}}),await l.ready);e=(await l.detect(c.value))[0].detectedLanguage,await l.destroy()}if(n.value===r.value||e===r.value)return void(s.value=c.value);const l=(await self.ai.translator.capabilities()).languagePairAvailable("auto"===n.value?e:n.value,r.value);let a;if("no"===l)return v.value=!0,localStorage.removeItem("dialog");a="readily"===l?await self.ai.translator.create({sourceLanguage:"auto"===n.value?e:n.value,targetLanguage:r.value}):await self.ai.translator.create({sourceLanguage:"auto"===n.value?e:n.value,targetLanguage:r.value,monitor(e){e.addEventListener("downloadprogress",(e=>{}))}}),s.value=await a.translate(c.value),await a.destroy(),V.value=!1}return(o,b)=>(Vue.openBlock(),Vue.createElementBlock("div",e,[b[8]||(b[8]=Vue.createElementVNode("div",{class:"top text-center mt-10"},[Vue.createElementVNode("h1",null,"chrome翻译"),Vue.createElementVNode("h4",{class:"text-gray-500"},"方便 / 易用 / 快捷")],-1)),Vue.createElementVNode("div",l,[Vue.createElementVNode("div",a,[Vue.createVNode(Vue.unref(ElementPlus.ElSelect),{class:"!w-30",modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=e=>n.value=e),placeholder:"Select"},{default:Vue.withCtx((()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(i,(e=>Vue.createVNode(Vue.unref(ElementPlus.ElOption),{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"]))),64))])),_:1},8,["modelValue"]),Vue.createVNode(Vue.unref(ElementPlus.ElSelect),{class:"ml-3 !w-30",modelValue:r.value,"onUpdate:modelValue":b[1]||(b[1]=e=>r.value=e),placeholder:"Select"},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(d),(e=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElOption),{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"]),Vue.createVNode(Vue.unref(ElementPlus.ElButton),{class:"ml-3",type:"primary",onClick:f,loading:V.value},{default:Vue.withCtx((()=>b[5]||(b[5]=[Vue.createTextVNode("翻译")]))),_:1},8,["loading"])]),Vue.createElementVNode("div",t,[Vue.createVNode(Vue.unref(ElementPlus.ElRow),{gutter:20},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElInput),{disabled:V.value,modelValue:c.value,"onUpdate:modelValue":b[2]||(b[2]=e=>c.value=e),rows:15,type:"textarea",placeholder:"输入文本内容"},null,8,["disabled","modelValue"])])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElInput),{modelValue:s.value,"onUpdate:modelValue":b[3]||(b[3]=e=>s.value=e),rows:15,type:"textarea",placeholder:"译文",disabled:!0},null,8,["modelValue"])])),_:1})])),_:1})])]),Vue.createVNode(Vue.unref(ElementPlus.ElDialog),{modelValue:v.value,"onUpdate:modelValue":b[4]||(b[4]=e=>v.value=e),title:"提示",width:"750"},{footer:Vue.withCtx((()=>[Vue.createElementVNode("div",u,[Vue.createVNode(Vue.unref(ElementPlus.ElButton),{type:"primary",onClick:m},{default:Vue.withCtx((()=>b[6]||(b[6]=[Vue.createTextVNode(" 确定 ")]))),_:1})])])),default:Vue.withCtx((()=>[b[7]||(b[7]=Vue.createElementVNode("div",null,[Vue.createElementVNode("div",null,"如果当前浏览器不支持翻译，请通过以下步骤开启翻译功能"),Vue.createElementVNode("ul",null,[Vue.createElementVNode("li",null,[Vue.createElementVNode("a",{href:"https://www.google.cn/intl/zh-CN/chrome/",target:"_blank"},"1、下载最新Chrome浏览器")]),Vue.createElementVNode("li",null," 2、打开 chrome://flags/#translation-api 将 Experimental translation API 改为 Enabled without language pack limit "),Vue.createElementVNode("li",null," 3、打开 chrome://flags/#language-detection-api 将 Language detection web platform API 改为 Enabled "),Vue.createElementVNode("li",null,"4、访问 chrome://on-device-translation-internals/ 以手动安装和卸载语言包。"),Vue.createElementVNode("li",null,"5、重启浏览器。")])],-1))])),_:1},8,["modelValue"])]))}});Vue.createApp(o).mount("#app");
